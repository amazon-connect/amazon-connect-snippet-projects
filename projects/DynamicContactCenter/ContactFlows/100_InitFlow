{"modules":[{"id":"8e2144ed-49f8-4b80-965d-662f3a1201a2","type":"SetVoice","branches":[{"condition":"Success","transition":"5936d616-9289-4bb2-949c-062157dfc998"}],"parameters":[{"name":"GlobalVoice","value":"Matthew"}],"metadata":{"position":{"x":149,"y":13}}},{"id":"5936d616-9289-4bb2-949c-062157dfc998","type":"SetLoggingBehavior","branches":[{"condition":"Success","transition":"08bf2fb7-2ca9-46d4-8ca8-6d0f000f3817"}],"parameters":[{"name":"LoggingBehavior","value":"Enable"}],"metadata":{"position":{"x":378,"y":9}}},{"id":"8a61eb7e-5e6f-4b17-b15b-42cbd32d660f","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":1827,"y":482}}},{"id":"40efa9ea-5aa7-4e7b-abef-1c424f988c4a","type":"PlayPrompt","branches":[{"condition":"Success","transition":"8a61eb7e-5e6f-4b17-b15b-42cbd32d660f"}],"parameters":[{"name":"Text","value":"exitPrompt","namespace":"External"},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1585,"y":399},"useDynamic":true}},{"id":"6bcdbce5-0e89-4554-80c8-ca66aba56c4e","type":"SetAttributes","branches":[{"condition":"Success","transition":"858e9d2a-566d-48ee-b706-81da9e595b4d"},{"condition":"Error","transition":"7dee345e-8887-404a-b750-dce1c83566e0"}],"parameters":[{"name":"Attribute","value":"name","key":"Dialed Name","namespace":"External"},{"name":"Attribute","value":"Dialed Number","key":"Dialed Number","namespace":"System"},{"name":"Attribute","value":"language","key":"Language","namespace":"External"}],"metadata":{"position":{"x":624,"y":189}}},{"id":"858e9d2a-566d-48ee-b706-81da9e595b4d","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"6dc4e5a4-9801-4c1e-8fbb-a89fe52b0c3b"},{"condition":"Error","transition":"7dee345e-8887-404a-b750-dce1c83566e0"}],"parameters":[{"name":"FunctionArn","value":"getPrompts","namespace":"External"},{"name":"TimeLimit","value":"3"},{"name":"Parameter","key":"sessionAttributes","value":"sessionAttributes","namespace":"External"}],"metadata":{"position":{"x":866,"y":189},"dynamicMetadata":{"sessionAttributes":true},"useDynamic":true},"target":"Lambda"},{"id":"6dc4e5a4-9801-4c1e-8fbb-a89fe52b0c3b","type":"Transfer","branches":[{"condition":"Error","transition":"7dee345e-8887-404a-b750-dce1c83566e0"}],"parameters":[{"name":"ContactFlowId","value":"arn:aws:connect:us-east-1:000000000000:instance/00000000-0000-0000-0000-000000000000/contact-flow/da5c5ae2-364e-4703-9d31-5e23fd96dc83","resourceName":"100_LangFlow"}],"metadata":{"position":{"x":1108,"y":255},"useDynamic":false,"ContactFlow":{"id":"arn:aws:connect:us-east-1:000000000000:instance/00000000-0000-0000-0000-000000000000/contact-flow/da5c5ae2-364e-4703-9d31-5e23fd96dc83","text":"100_LangFlow","arn":null,"metricDetail":null,"resourceId":null}},"target":"Flow"},{"id":"b0c30a9d-e018-48a5-8390-0e100015df37","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"6bcdbce5-0e89-4554-80c8-ca66aba56c4e"},{"condition":"Error","transition":"7dee345e-8887-404a-b750-dce1c83566e0"}],"parameters":[{"name":"FunctionArn","value":"getDynamicAttributes","namespace":"External"},{"name":"TimeLimit","value":"3"},{"name":"Parameter","key":"sessionAttributes","value":"sessionAttributes","namespace":"External"}],"metadata":{"position":{"x":384,"y":191},"dynamicMetadata":{"sessionAttributes":true},"useDynamic":true},"target":"Lambda"},{"id":"7dee345e-8887-404a-b750-dce1c83566e0","type":"PlayPrompt","branches":[{"condition":"Success","transition":"40efa9ea-5aa7-4e7b-abef-1c424f988c4a"}],"parameters":[{"name":"Text","value":"errorPrompt","namespace":"External"},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1343,"y":398},"useDynamic":true}},{"id":"08bf2fb7-2ca9-46d4-8ca8-6d0f000f3817","type":"SetRecordingBehavior","branches":[{"condition":"Success","transition":"2e0b905a-c12b-4ebc-8e15-331b9bc0e0a9"}],"parameters":[{"name":"RecordingBehaviorOption","value":"Enable"},{"name":"RecordingParticipantOption","value":"Both"}],"metadata":{"position":{"x":626,"y":10}}},{"id":"2e0b905a-c12b-4ebc-8e15-331b9bc0e0a9","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"b0c30a9d-e018-48a5-8390-0e100015df37"},{"condition":"Error","transition":"7dee345e-8887-404a-b750-dce1c83566e0"}],"parameters":[{"name":"FunctionArn","value":"Change to Select a function > ~GetLambdas function","namespace":"External"},{"name":"TimeLimit","value":"3"},{"name":"Parameter","key":"environment","value":"prod","namespace":null}],"metadata":{"position":{"x":150,"y":192},"dynamicMetadata":{"environment":false},"useDynamic":true},"target":"Lambda"}],"version":"1","type":"contactFlow","start":"8e2144ed-49f8-4b80-965d-662f3a1201a2","metadata":{"entryPointPosition":{"x":15,"y":20},"snapToGrid":false,"name":"100_InitFlow","description":"Primary initialization flow that sets voice, logging, recording, and dynamic attributes from various lambda functions.","type":"contactFlow","status":"saved","hash":"39c3c4e2dc60149949caa4777bf88279bb9912501ee8982071b9519de591b3f6"}}